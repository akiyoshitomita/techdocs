"use strict";(self.webpackChunktechdocs=self.webpackChunktechdocs||[]).push([[690],{5342:(s,n,e)=>{e.r(n),e.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>a,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"infra/ssh","title":"SSH \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u52d5\u4f5c","description":".ssh/known_hosts\u30d5\u30a1\u30a4\u30eb\u306b\u3064\u3044\u3066","source":"@site/docs/infra/ssh.md","sourceDirName":"infra","slug":"/infra/ssh","permalink":"/tech/docs/infra/ssh","draft":false,"unlisted":false,"editUrl":"https://github.com/akiyoshitomita/techdocs/docs/infra/ssh.md","tags":[],"version":"current","sidebarPosition":101,"frontMatter":{"sidebar_position":101},"sidebar":"tutorialSidebar","previous":{"title":"\u30a4\u30f3\u30d5\u30e9","permalink":"/tech/docs/category/\u30a4\u30f3\u30d5\u30e9"},"next":{"title":"sitemap","permalink":"/tech/docs/docusaurus/sitemap"}}');var t=e(4848),h=e(8453);const o={sidebar_position:101},r="SSH \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u52d5\u4f5c",c={},d=[{value:".ssh/known_hosts\u30d5\u30a1\u30a4\u30eb\u306b\u3064\u3044\u3066",id:"sshknown_hosts\u30d5\u30a1\u30a4\u30eb\u306b\u3064\u3044\u3066",level:2},{value:".ssh/known_hosts\u30d5\u30a1\u30a4\u30eb\u306e\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3",id:"sshknown_hosts\u30d5\u30a1\u30a4\u30eb\u306e\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3",level:3},{value:"\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u767b\u9332",id:"\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u767b\u9332",level:4},{value:"\u767b\u9332\u6e08\u307f\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u524a\u9664",id:"\u767b\u9332\u6e08\u307f\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u524a\u9664",level:4},{value:"\u767b\u9332\u6e08\u307f\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u63a2\u3059\u5834\u5408",id:"\u767b\u9332\u6e08\u307f\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u63a2\u3059\u5834\u5408",level:4},{value:"\u63a5\u7d9a\u5148\u306e\u516c\u958b\u9375\u3092\u8abf\u3079\u305f\u3044\u5834\u5408",id:"\u63a5\u7d9a\u5148\u306e\u516c\u958b\u9375\u3092\u8abf\u3079\u305f\u3044\u5834\u5408",level:4}];function l(s){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,h.R)(),...s.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"ssh-\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u52d5\u4f5c",children:"SSH \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u52d5\u4f5c"})}),"\n",(0,t.jsx)(n.h2,{id:"sshknown_hosts\u30d5\u30a1\u30a4\u30eb\u306b\u3064\u3044\u3066",children:".ssh/known_hosts\u30d5\u30a1\u30a4\u30eb\u306b\u3064\u3044\u3066"}),"\n",(0,t.jsx)(n.p,{children:"SSH\u30b5\u30fc\u30d0\u306e\u516c\u958b\u9375\u60c5\u5831\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002\n\u57fa\u672c\u7684\u306bSSH\u306e\u521d\u56de\u63a5\u7d9a\u6642\u306b\u81ea\u52d5\u751f\u6210\u3055\u308c\u3001\u4e07\u304c\u4e00\u30b5\u30fc\u30d0\u306e\u3059\u308a\u66ff\u3048\u7b49\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306b\u4e0d\u8981\u306a\u63a5\u7d9a\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,t.jsxs)(n.p,{children:["\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u306f\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u30ea\u30b9\u30c8\u5f62\u5f0f\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u4e0d\u6ce8\u610f\u306b\u7de8\u96c6\u3059\u308b\u3068\u58ca\u308c\u308b\u6050\u308c\u304c\u3042\u308b\u305f\u3081\u7de8\u96c6\u3059\u308b\u3053\u3068\u306f\u304a\u52e7\u3081\u3057\u307e\u305b\u3093\u3002\n\u30ea\u30b9\u30c8\u306f\uff11\u884c\u306b\u3001",(0,t.jsx)(n.code,{children:"\u30db\u30b9\u30c8\u540d|IP\u30a2\u30c9\u30ec\u30b9 \u6697\u53f7\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0 \u516c\u958b\u9375"}),"\u306e\u3088\u3046\u306b\u30b9\u30da\u30fc\u30b9\u533a\u5207\u308a\u3067\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u30db\u30b9\u30c8\u540d/IP\u30a2\u30c9\u30ec\u30b9\u306f\u3001ssh_config\u30d5\u30a1\u30a4\u30eb(~/.ssh/config, /etc/ssh/ssh_config) \u306e",(0,t.jsx)(n.code,{children:"HashKnownHosts"}),"\u8a2d\u5b9a\u306b\u3088\u308a\u30cf\u30c3\u30b7\u30e5\u5316\u3055\u308c\u307e\u3059\u3002\n",(0,t.jsx)(n.code,{children:"HashKnownHosts"}),"\u304cyes\u306b\u6307\u5b9a\u3057\u305f\u5834\u5408\u306e\u307f\u30cf\u30c3\u30b7\u30e5\u5316\u3055\u308c\u307e\u3059\u3002"]}),"\n",(0,t.jsx)(n.h3,{id:"sshknown_hosts\u30d5\u30a1\u30a4\u30eb\u306e\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3",children:".ssh/known_hosts\u30d5\u30a1\u30a4\u30eb\u306e\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3"}),"\n",(0,t.jsx)(n.h4,{id:"\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u767b\u9332",children:"\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u767b\u9332"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"SSH \u521d\u56de\u63a5\u7d9a\u6642"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"SSH \u521d\u56de\u63a5\u7d9a\u6642\u306b\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u4f8b\u306e2\u884c\u76ee\u306b fingerprint\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u63a5\u7d9a\u5148\u306e\u30b5\u30fc\u30d0\u56fa\u6709\u306e\u30d5\u30a3\u30f3\u30ac\u30fc\u30d7\u30ea\u30f3\u30c8\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u5024\u304c\u6b63\u3057\u3044\u304b\u3092\u78ba\u8a8d\u3057\u3001\u4e00\u81f4\u3057\u3066\u3044\u308b\u5834\u5408\u306fyes\u53c8\u306ffingerprint\u306e\u5024\u3092\u5165\u529b\u3001\u4e00\u81f4\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u6b63\u3057\u3044\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3057\u3066\u3044\u306a\u3044\u306e\u3067no\u3068\u5165\u529b\u3057\u5207\u65ad\u3057\u307e\u3059\u3002\n\u6b63\u3057\u3044\u5834\u5408\u306e\u307f\u3001\u30b5\u30fc\u30d0\u306e\u516c\u958b\u9375\u304cknown_hosts\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002(\u203b \u8868\u793a\u3055\u308c\u3066\u3044\u306a\u3044\u516c\u958b\u9375\u3082\u540c\u6642\u306b\u767b\u9332\u3055\u308c\u307e\u3059\u3002)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-showLineNumbers",children:"$ ssh github.com\nThe authenticity of host 'github.com (20.27.177.113)' can't be established.\nED25519 key fingerprint is SHA256:+DiY3wvvV6TuJJhbpZisF/zLDA0zPMSvHdkr4UvCOqU.\nThis key is not known by any other names.\nAre you sure you want to continue connecting (yes/no/[fingerprint])? SHA256:+DiY3wvvV6TuJJhbpZisF/zLDA0zPMSvHdkr4UvCOqU\n"})}),"\n",(0,t.jsxs)(n.p,{children:["(\u53c2\u8003)\ngithub\u306eSSH\u30ad\u30fc\u306e\u30d5\u30a3\u30f3\u30ac\u30fc\u30d7\u30ea\u30f3\u30c8\u306fWEB\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n",(0,t.jsx)(n.a,{href:"https://docs.github.com/ja/authentication/keeping-your-account-and-data-secure/githubs-ssh-key-fingerprints",children:"https://docs.github.com/ja/authentication/keeping-your-account-and-data-secure/githubs-ssh-key-fingerprints"})]}),"\n",(0,t.jsx)(n.p,{children:"Ubuntu\u30b5\u30fc\u30d0\u306e\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5165\u529b\u3059\u308b\u3053\u3068\u3067\u78ba\u8a8d\u304c\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"for i in /etc/ssh/ssh_host_*.pub; do ssh-keygen -l -f $i; done\n"})}),"\n",(0,t.jsx)(n.h4,{id:"\u767b\u9332\u6e08\u307f\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u524a\u9664",children:"\u767b\u9332\u6e08\u307f\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u524a\u9664"}),"\n",(0,t.jsxs)(n.p,{children:["\u30b5\u30fc\u30d0\u3092\u5ec3\u6b62\u3057\u305f\u6642\u3084\u30b5\u30fc\u30d0\u306e\u516c\u958b\u9375\u3092\u5909\u66f4\u3057\u305f\u969b\u306f\u3001",(0,t.jsx)(n.code,{children:"ssh-keygen -R"}),"\u30b3\u30de\u30f3\u30c9\u3067\u5bfe\u8c61\u306e\u30db\u30b9\u30c8\u540d\u3067\u524a\u9664\u3057\u307e\u3059\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"(\u6ce8\u610f)\nssh_config \u3067Host\u6307\u5b9a\u3057\u3066\u3044\u308b\u5834\u5408\u306fHostName\u306e\u5024\u3092\u5165\u529b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"ssh-keygen -R (\u30db\u30b9\u30c8\u540d|IP\u30a2\u30c9\u30ec\u30b9)\n"})}),"\n",(0,t.jsx)(n.h4,{id:"\u767b\u9332\u6e08\u307f\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u63a2\u3059\u5834\u5408",children:"\u767b\u9332\u6e08\u307f\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u63a2\u3059\u5834\u5408"}),"\n",(0,t.jsxs)(n.p,{children:["\u30b5\u30fc\u30d0\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\u5834\u5408\u3001",(0,t.jsx)(n.code,{children:"ssh-keygen -F"}),"\u30b3\u30de\u30f3\u30c9\u3067\u691c\u7d22\u3092\u884c\u3044\u307e\u3059\u3002\n",(0,t.jsx)(n.code,{children:"-l"})," \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u3068Fingerprint\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"ssh-keygen -F (\u30db\u30b9\u30c8\u540d|IP\u30a2\u30c9\u30ec\u30b9)\n"})}),"\n",(0,t.jsx)(n.h4,{id:"\u63a5\u7d9a\u5148\u306e\u516c\u958b\u9375\u3092\u8abf\u3079\u305f\u3044\u5834\u5408",children:"\u63a5\u7d9a\u5148\u306e\u516c\u958b\u9375\u3092\u8abf\u3079\u305f\u3044\u5834\u5408"}),"\n",(0,t.jsxs)(n.p,{children:["SSH\u30b5\u30fc\u30d0\u304b\u3089\u516c\u958b\u52a0\u8cc0\u3092\u53d6\u5f97\u3059\u308b\u5834\u5408\u306f ",(0,t.jsx)(n.code,{children:"ssh-keyscan"}),"\u30b3\u30de\u30f3\u30c9\u3067\u8abf\u3079\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"ssh-keyscan (\u30db\u30b9\u30c8\u540d|IP\u30a2\u30c9\u30ec\u30b9)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["fingerprint\u3092\u8abf\u3079\u308b\u5834\u5408\u306f\u3001\u7d50\u679c\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3057 ",(0,t.jsx)(n.code,{children:"ssh-keygen -l -F"}),"\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"ssh-keyscan (\u30db\u30b9\u30c8\u540d|IP\u30a2\u30c9\u30ec\u30b9) > /tmp/ssh_pub.txt 2> /dev/null\nssh-keygen -l -F /tmp/ssh_pub.txt\nrm /tmp/ssh_pub.txt\n"})})]})}function a(s={}){const{wrapper:n}={...(0,h.R)(),...s.components};return n?(0,t.jsx)(n,{...s,children:(0,t.jsx)(l,{...s})}):l(s)}},8453:(s,n,e)=>{e.d(n,{R:()=>o,x:()=>r});var i=e(6540);const t={},h=i.createContext(t);function o(s){const n=i.useContext(h);return i.useMemo((function(){return"function"==typeof s?s(n):{...n,...s}}),[n,s])}function r(s){let n;return n=s.disableParentContext?"function"==typeof s.components?s.components(t):s.components||t:o(s.components),i.createElement(h.Provider,{value:n},s.children)}}}]);